<script type="text/x-handlebars" data-template-name='application'>
  {{ partial 'navigation' }}
  <div class="container">
    {{outlet}}
    <hr>
    {{ partial 'footer' }}
  </div>
</script>

<%= render partial: 'templates/navigation2' %>
<%= render partial: 'templates/footer' %>
<%= render partial: 'templates/index' %>
<%= render partial: 'templates/about' %>

<script type="text/x-handlebars" data-template-name='products'>
<h1>Products</h1>
<ul>
{{#each}}
  <li>
    <h2>{{title}}</h2>
    <p>{{description}}</p>
    <p>Buy for ${{price}}</p>
    <p>{{#link-to 'product' title classNames='btn btn-default'}}View Details &raquo;{{/link-to}}</p>
  </li>
{{/each}}
</ul>
</script>

<script type="text/x-handlebars" data-template-name='product'>
<h1>{{title}}</h1>
<p>{{description}}</p>
<p>Buy for ${{price}}</p>
</script>

<script type='text/javascript'>
  var App = Ember.Application.create();
  App.Router.map(function() {
    this.route('about');
    this.resource('products');
    this.resource('product', { path: '/products/:product_id'});
  });

  var PRODUCTS = [
    {
      title: 'Acorn',
      price: '0.99',
      description: 'These fell right out of the tree -- or were left unguarded.',
      isOnSale: true,
      isSeasonal: true
    },
    {
      title: 'Pinecone',
      price: '2.49',
      description: 'A seasonal treat fresh from the pines.',
      isOnSale: false,
      isSeasonal: true
    },
    {
      title: 'Blackberries',
      price: '4.99',
      description: 'Got a sweet tooth? They might be hard to get to, but worth the trouble!',
      isOnSale: true,
      isSeasonal: true
    }
  ];

  App.ProductsRoute = Ember.Route.extend({
    model: function() {
      return PRODUCTS;
    }
  });

  App.ProductRoute = Ember.Route.extend({
    model: function(params) {
      return PRODUCTS.findBy('title', params.product_id);
    }
  });
</script>